<!DOCTYPE html>
<html lang="zh_CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>一些常用的宏和代码片段 | KT Bios 代码仓库</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-5576257b.css" as="style"><link rel="stylesheet" href="/assets/style-5576257b.css">
    <link rel="modulepreload" href="/assets/app-c680e870.js"><link rel="modulepreload" href="/assets/GenCodeFrac.html-e83e1560.js"><link rel="modulepreload" href="/assets/GenCodeFrac.html-2177e441.js"><link rel="prefetch" href="/assets/index.html-f8c36faf.js" as="script"><link rel="prefetch" href="/assets/shift.html-1c869945.js" as="script"><link rel="prefetch" href="/assets/socpt.html-dbe668d7.js" as="script"><link rel="prefetch" href="/assets/404.html-b43a91f7.js" as="script"><link rel="prefetch" href="/assets/index.html-c73f54e7.js" as="script"><link rel="prefetch" href="/assets/shift.html-f1a85c95.js" as="script"><link rel="prefetch" href="/assets/socpt.html-60ac4989.js" as="script"><link rel="prefetch" href="/assets/404.html-efb1edd1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">KT Bios 代码仓库</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">soc pt <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/socpt/socpt.html" class="sidebar-item" aria-label="基础soc pt 表"><!--[--><!--]--> 基础soc pt 表 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">交叉变化表 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/shift/shift.html" class="sidebar-item" aria-label="基础交叉变化表"><!--[--><!--]--> 基础交叉变化表 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">其他 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/other/GenCodeFrac.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="一些常用的宏和代码片段"><!--[--><!--]--> 一些常用的宏和代码片段 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/other/GenCodeFrac.html#检查程序头修订时间" class="router-link-active router-link-exact-active sidebar-item" aria-label="检查程序头修订时间"><!--[--><!--]--> 检查程序头修订时间 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#检查rfpendtc" class="router-link-active router-link-exact-active sidebar-item" aria-label="检查RFPENDTC"><!--[--><!--]--> 检查RFPENDTC <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#检查页码-sas" class="router-link-active router-link-exact-active sidebar-item" aria-label="检查页码-sas"><!--[--><!--]--> 检查页码-sas <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#tfl-label-更新" class="router-link-active router-link-exact-active sidebar-item" aria-label="TFL label 更新"><!--[--><!--]--> TFL label 更新 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#_200字符截断-英文1" class="router-link-active router-link-exact-active sidebar-item" aria-label="200字符截断 - 英文1"><!--[--><!--]--> 200字符截断 - 英文1 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#qc侧supp域宏代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="QC侧SUPP域宏代码"><!--[--><!--]--> QC侧SUPP域宏代码 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#重置变量最大观测长度" class="router-link-active router-link-exact-active sidebar-item" aria-label="重置变量最大观测长度"><!--[--><!--]--> 重置变量最大观测长度 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/other/GenCodeFrac.html#转xpt时设置数据集为最大观测长度" class="router-link-active router-link-exact-active sidebar-item" aria-label="转xpt时设置数据集为最大观测长度"><!--[--><!--]--> 转xpt时设置数据集为最大观测长度 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="检查程序头修订时间" tabindex="-1"><a class="header-anchor" href="#检查程序头修订时间" aria-hidden="true">#</a> 检查程序头修订时间</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token step keyword">proc delete</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token arg-value">work.</span>_<span class="token arg keyword">all</span>_<span class="token punctuation">;</span></span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-declaration"><span class="token keyword">%macro</span> get_ModifyDT_(role=,part=,xx=)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> delivery_date<span class="token operator">=</span><span class="token number">20230424</span><span class="token punctuation">;</span>
<span class="token comment">/*%let role=Production;*/</span>
<span class="token comment">/*%let role=QC;*/</span>
<span class="token macro-keyword keyword">%let</span> partx<span class="token operator">=</span><span class="token macro-variable">&amp;part</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%if</span> <span class="token macro-keyword keyword">%upcase</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;part</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">=</span>SDTM <span class="token keyword">or</span> <span class="token macro-keyword keyword">%upcase</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;part</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">=</span>ADAM <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> partx <span class="token operator">=</span> Derived<span class="token punctuation">\</span><span class="token macro-variable">&amp;part</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> dir<span class="token operator">=</span><span class="token macro-variable">&amp;root</span><span class="token punctuation">.</span><span class="token punctuation">\</span><span class="token macro-variable">&amp;role</span><span class="token punctuation">.</span><span class="token punctuation">\</span><span class="token macro-variable">&amp;partx</span><span class="token punctuation">.</span><span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token keyword">filename</span> dirfile pipe <span class="token string">&quot;dir &quot;&quot;&amp;dir&quot;&quot; /b&quot;</span> lrecl <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> _memname<span class="token punctuation">;</span>
    <span class="token keyword">infile</span> dirfile <span class="token keyword">end</span><span class="token operator">=</span>eof <span class="token keyword">length</span> <span class="token operator">=</span> len<span class="token punctuation">;</span>
    <span class="token input"><span class="token input keyword">input</span> sasname $varying200. len;</span>
    <span class="token keyword">if</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;.sas&#39;</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;batch_run&#39;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;chklog&#39;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;compare&#39;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span>  <span class="token keyword">and</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;run_all&#39;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-declaration"><span class="token keyword">%macro</span> fileattribs(filename)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%local</span> rc fid fidc<span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%global</span> bytes createDT ModifyDT<span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> rc<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">filename</span><span class="token punctuation">(</span>onefile<span class="token punctuation">,</span><span class="token macro-variable">&amp;filename</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> fid<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">fopen</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;onefile</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> bytes<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">finfo</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;fid</span><span class="token punctuation">,</span>file size <span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> CreateDT<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">finfo</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;fid</span><span class="token punctuation">.</span><span class="token punctuation">,</span>Create Time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> ModifyDT<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">finfo</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;fid</span><span class="token punctuation">,</span>Last Modified<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> fidc<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">fclose</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;fid</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> rc<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">filename</span><span class="token punctuation">(</span>onefile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%put</span> <span class="token keyword">filename</span><span class="token operator">=</span><span class="token macro-variable">&amp;filename</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%put</span> ModifyDT<span class="token operator">=</span><span class="token macro-variable">&amp;ModifyDT</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token operator">/</span><span class="token operator">*</span><span class="token function keyword">%fileattribs</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;dir</span><span class="token punctuation">.</span><span class="token punctuation">\</span>T14_1_1_1<span class="token punctuation">.</span>sas<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">*/

data _null_;</span>
    <span class="token keyword">set</span> _memname<span class="token punctuation">;</span>
    <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token function keyword">cats</span><span class="token punctuation">(</span><span class="token string">&#39;ds&#39;</span><span class="token punctuation">,</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>sasname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token string">&#39;num&#39;</span><span class="token punctuation">,</span>_n_<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token macro-declaration"><span class="token keyword">%macro</span> xx</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> dsid<span class="token operator">=</span><span class="token operator">&amp;</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;ds</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token function keyword">%fileattribs</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;dir</span><span class="token punctuation">.</span><span class="token punctuation">\</span><span class="token macro-variable">&amp;dsid</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> _memname<span class="token punctuation">;</span>
    <span class="token keyword">length</span> SASNAME MODIFYDT <span class="token punctuation">$</span><span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> _memname<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token operator">=</span>_n_ <span class="token keyword">then</span> ModifyDT<span class="token operator">=</span><span class="token function keyword">put</span><span class="token punctuation">(</span><span class="token function keyword">input</span><span class="token punctuation">(</span><span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;ModifyDT.&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date9<span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>yymmddn8<span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> memname<span class="token macro-variable">&amp;xx</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> _memname<span class="token punctuation">;</span>
    <span class="token keyword">if</span> ModifyDT<span class="token operator">&gt;</span><span class="token string">&quot;&amp;delivery_date&quot;</span><span class="token punctuation">;</span>
    part<span class="token operator">=</span><span class="token function keyword">cats</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;part.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> xx<span class="token operator">=</span><span class="token macro-variable">&amp;xx</span><span class="token punctuation">.</span><span class="token punctuation">;</span> 
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token punctuation">%</span>xx<span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>role<span class="token operator">=</span>Production<span class="token punctuation">,</span>part<span class="token operator">=</span>SDTM<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>role<span class="token operator">=</span>QC<span class="token punctuation">,</span>part<span class="token operator">=</span>SDTM<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span>role<span class="token operator">=</span>Production<span class="token punctuation">,</span>part<span class="token operator">=</span>ADaM<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>role<span class="token operator">=</span>QC<span class="token punctuation">,</span>part<span class="token operator">=</span>ADaM<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>role<span class="token operator">=</span>Production<span class="token punctuation">,</span>part<span class="token operator">=</span>Tables<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>role<span class="token operator">=</span>QC<span class="token punctuation">,</span>part<span class="token operator">=</span>Tables<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>role<span class="token operator">=</span>Production<span class="token punctuation">,</span>part<span class="token operator">=</span>Listings<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function keyword">%get_ModifyDT_</span><span class="token punctuation">(</span>xx<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>role<span class="token operator">=</span>QC<span class="token punctuation">,</span>part<span class="token operator">=</span>Listings<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*%get_ModifyDT_(xx=9,role=Production,part=Figures);*/</span>
<span class="token comment">/*%get_ModifyDT_(xx=10,role=QC,part=Figures);*/</span>

<span class="token step keyword">data</span> all<span class="token punctuation">;</span>
    <span class="token keyword">set</span> memname1<span class="token operator">-</span>memname8 indsname<span class="token operator">=</span>raw<span class="token punctuation">;</span>
    orig<span class="token operator">=</span><span class="token function keyword">scan</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token step keyword">proc sort</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token arg-value">all</span><span class="token punctuation">;</span></span> <span class="token keyword">by</span> xx<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="检查rfpendtc" tabindex="-1"><a class="header-anchor" href="#检查rfpendtc" aria-hidden="true">#</a> 检查RFPENDTC</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token macro-declaration"><span class="token keyword">%macro</span> rfpendtc</span><span class="token punctuation">;</span>
    <span class="token keyword">options</span> mprint<span class="token punctuation">;</span>
    <span class="token step keyword">proc sql</span> <span class="token punctuation">;</span>
        create <span class="token keyword">table</span> a as <span class="token keyword">select</span> <span class="token operator">*</span> from dictionary<span class="token punctuation">.</span>columns <span class="token keyword">where</span> <span class="token function keyword">upcase</span><span class="token punctuation">(</span>libname<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;SDTMW&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">select</span> <span class="token function keyword">count</span><span class="token punctuation">(</span>memname<span class="token punctuation">)</span> into: count from a <span class="token keyword">where</span> <span class="token function keyword">substr</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token function keyword">length</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;DTC&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">select</span> <span class="token keyword">name</span><span class="token punctuation">,</span> type<span class="token punctuation">,</span> memname<span class="token punctuation">,</span> <span class="token keyword">label</span> into :
            name1 <span class="token operator">-</span> :name<span class="token function keyword">%trim</span><span class="token punctuation">(</span><span class="token function keyword">%left</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;count</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
            :type1 <span class="token operator">-</span> :type<span class="token function keyword">%trim</span><span class="token punctuation">(</span><span class="token function keyword">%left</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;count</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
            :mem1 <span class="token operator">-</span> :mem<span class="token function keyword">%trim</span><span class="token punctuation">(</span><span class="token function keyword">%left</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;count</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            :label1 <span class="token operator">-</span> :label<span class="token function keyword">%trim</span><span class="token punctuation">(</span><span class="token function keyword">%left</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;count</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        from a <span class="token keyword">where</span> <span class="token function keyword">substr</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token function keyword">length</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot;DTC&quot;</span><span class="token punctuation">;</span>
        create <span class="token keyword">table</span> <span class="token function keyword">alldate</span><span class="token punctuation">(</span>usubjid <span class="token function keyword">varchar</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">,</span>memname <span class="token function keyword">varchar</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">name</span> <span class="token function keyword">varchar</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>label <span class="token function keyword">varchar</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span> DTC <span class="token function keyword">varchar</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token step keyword">quit</span><span class="token punctuation">;</span>

    <span class="token macro-keyword keyword">%do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;count</span><span class="token punctuation">;</span>
<span class="token operator">/</span><span class="token operator">*</span>    <span class="token macro-keyword keyword">%let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">/</span>
    <span class="token macro-keyword keyword">%put</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;mem</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;name</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;label</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        <span class="token step keyword">proc sql</span><span class="token punctuation">;</span>
            insert into alldate
                <span class="token keyword">select</span> distinct usubjid<span class="token punctuation">,</span> 
                <span class="token string">&quot;&amp;&amp;mem&amp;i.&quot;</span> as memname <span class="token keyword">length</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span><span class="token string">&quot;&amp;&amp;name&amp;i.&quot;</span> as <span class="token keyword">name</span> <span class="token keyword">length</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
                <span class="token string">&quot;&amp;&amp;label&amp;i.&quot;</span> as <span class="token keyword">label</span> <span class="token keyword">length</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
                <span class="token operator">&amp;</span><span class="token macro-variable">&amp;name</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span> as DTC
            from sdtmw<span class="token punctuation">.</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;mem</span><span class="token macro-variable">&amp;i</span> having dtc <span class="token operator-keyword operator">ne</span> <span class="token string">&#39;&#39;</span>
            <span class="token punctuation">;</span>
        <span class="token step keyword">quit</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token step keyword">data</span> alldatex<span class="token punctuation">;</span>
        <span class="token keyword">set</span> alldate<span class="token punctuation">;</span>
        <span class="token keyword">where</span> <span class="token keyword">name</span> <span class="token operator-keyword operator">ne</span> <span class="token string">&#39;SSDTC&#39;</span><span class="token punctuation">;</span>
        rfpendtc<span class="token operator">=</span><span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token function keyword">cats</span><span class="token punctuation">(</span>dtc<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token step keyword">run</span><span class="token punctuation">;</span>
    <span class="token step keyword">data</span> dm_<span class="token punctuation">;</span>
        <span class="token keyword">set</span> sdtmw<span class="token punctuation">.</span>dm<span class="token punctuation">;</span>
        rfpendtc1<span class="token operator">=</span>rfpendtc<span class="token punctuation">;</span>
        <span class="token keyword">keep</span> usubjid rfpendtc1<span class="token punctuation">;</span>
    <span class="token step keyword">run</span><span class="token punctuation">;</span>
    <span class="token step keyword">proc sort</span> <span class="token keyword">data</span><span class="token operator">=</span>alldatex<span class="token punctuation">;</span> <span class="token keyword">by</span> usubjid rfpendtc<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
    <span class="token step keyword">data</span> rfpendtc<span class="token punctuation">;</span>  <span class="token keyword">set</span> alldatex<span class="token punctuation">;</span> <span class="token keyword">by</span> usubjid rfpendtc<span class="token punctuation">;</span> <span class="token keyword">if</span> last<span class="token punctuation">.</span>usubjid<span class="token punctuation">;</span> <span class="token keyword">keep</span> usubjid rfpendtc<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
    <span class="token step keyword">data</span> rfpendtc_check<span class="token punctuation">;</span>
        <span class="token keyword">merge</span> rfpendtc dm_<span class="token punctuation">;</span>
        <span class="token keyword">by</span> usubjid<span class="token punctuation">;</span>
        <span class="token keyword">if</span> rfpendtc<span class="token operator">=</span>rfpendtc1 <span class="token keyword">then</span> comp<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">else</span> comp<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-end"><span class="token keyword">%mend</span> rfpendtc</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>rfpendtc<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="检查页码-sas" tabindex="-1"><a class="header-anchor" href="#检查页码-sas" aria-hidden="true">#</a> 检查页码-sas</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token macro-declaration"><span class="token keyword">%macro</span> check_page</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> dir<span class="token operator">=</span><span class="token macro-variable">&amp;root</span><span class="token punctuation">.</span><span class="token punctuation">\</span>Output<span class="token punctuation">\</span>Production_out<span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token keyword">filename</span> dirfile pipe <span class="token string">&quot;dir &quot;&quot;&amp;dir&quot;&quot; /b&quot;</span> lrecl <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> memname<span class="token punctuation">;</span>
    <span class="token keyword">infile</span> dirfile <span class="token keyword">end</span><span class="token operator">=</span>eof <span class="token keyword">length</span> <span class="token operator">=</span> len<span class="token punctuation">;</span>
    <span class="token input"><span class="token input keyword">input</span> sasname $varying200. len;</span>
    <span class="token keyword">if</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>sasname<span class="token punctuation">,</span><span class="token string">&#39;.rtf&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
    <span class="token step keyword">proc sql</span> noprint<span class="token punctuation">;</span>
        <span class="token keyword">select</span> <span class="token function keyword">count</span><span class="token punctuation">(</span>sasname<span class="token punctuation">)</span> into:dsnum from memname<span class="token punctuation">;</span>
        <span class="token keyword">select</span> sasname into: pgm1 <span class="token operator">-</span> :pgm<span class="token function keyword">%left</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;dsnum</span><span class="token punctuation">.</span><span class="token punctuation">)</span> from memname<span class="token punctuation">;</span>
    <span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;dsnum</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%let</span> pgm<span class="token operator">=</span><span class="token macro-keyword keyword">%scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;pgm</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">filename</span> outpage <span class="token string">&quot;&amp;dir.\&amp;pgm..rtf&quot;</span><span class="token punctuation">;</span>
    <span class="token step keyword">data</span> <span class="token keyword">_null_</span><span class="token punctuation">;</span>
        <span class="token keyword">length</span> note <span class="token punctuation">$</span><span class="token number">2000</span><span class="token punctuation">;</span>
        <span class="token keyword">infile</span> outpage<span class="token punctuation">;</span>
        input<span class="token punctuation">;</span> note<span class="token operator">=</span>_infile_<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token function keyword">index</span><span class="token punctuation">(</span>_infile_<span class="token punctuation">,</span><span class="token string">&#39;(Continued)&#39;</span><span class="token punctuation">)</span> <span class="token keyword">then do</span><span class="token punctuation">;</span>
            <span class="token keyword">put</span> <span class="token string">&quot;ERR&quot;</span> <span class="token string">&quot;OR: &amp;PGM. is truncated.&quot;</span><span class="token punctuation">;</span> stop<span class="token punctuation">;</span>
        <span class="token keyword">end</span><span class="token punctuation">;</span>
    <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token punctuation">%</span>check_page<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tfl-label-更新" tabindex="-1"><a class="header-anchor" href="#tfl-label-更新" aria-hidden="true">#</a> TFL label 更新</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token macro-keyword keyword">%let</span> <span class="token keyword">var</span><span class="token operator">=</span> 
subjid primdose agex trtedtx dthdty dthcausx audtcx<span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> <span class="token keyword">label</span><span class="token operator">=</span> <span class="token function keyword">%nrbquote</span><span class="token punctuation">(</span>
Subject Number<span class="token operator">~</span>Dose Level<span class="token operator">~</span>Age <span class="token punctuation">(</span>years<span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">^</span>Sex<span class="token operator">~</span>Date of Last IP Administration<span class="token operator">~</span>Date of Death<span class="token operator">/</span><span class="token operator">^</span>Study Day <span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">~</span>Primary Cause of Death<span class="token operator">/</span><span class="token operator">^</span>Comment<span class="token operator">~</span>Autopsy Date<span class="token operator">/</span><span class="token operator">^</span>Finding
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-declaration"><span class="token keyword">%macro</span> label_update_en</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> num<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">countw</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">%</span>let num1<span class="token operator">=</span><span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">count</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token operator">~</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">/</span>
<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">%</span>put <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span> <span class="token macro-variable">&amp;num1</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">/</span>
<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">%</span>if <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span> <span class="token operator-keyword operator">ne</span> <span class="token macro-variable">&amp;num1</span><span class="token punctuation">.</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> <span class="token step keyword">data</span> <span class="token keyword">_null_</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span> <span class="token operator-keyword operator">ne</span> <span class="token macro-variable">&amp;num1</span><span class="token punctuation">.</span> <span class="token keyword">then</span> <span class="token keyword">put</span> <span class="token string">&#39;ERR&#39;</span> <span class="token string">&#39;OR: number mismatch.&#39;</span><span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">/</span>
<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">%</span>else <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span><span class="token comment">*/
data xx;</span>
    <span class="token keyword">length</span> <span class="token keyword">var</span> <span class="token keyword">label</span> labelx <span class="token punctuation">$</span><span class="token number">2000</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span><span class="token operator">=</span><span class="token function keyword">scan</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;var.&quot;</span><span class="token punctuation">,</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;label</span><span class="token punctuation">.</span> <span class="token operator-keyword operator">ne</span> <span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
    <span class="token keyword">label</span><span class="token operator">=</span><span class="token function keyword">scan</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;label&quot;</span><span class="token punctuation">,</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token string">&#39;~&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> labelx<span class="token operator">=</span><span class="token string">&quot;label&quot;</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    labelx<span class="token operator">=</span><span class="token function keyword">cat</span><span class="token punctuation">(</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>labelx<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;=&quot;&#39;</span><span class="token punctuation">,</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;&quot;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;i</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> labelx<span class="token operator">=</span><span class="token string">&#39; &#39;</span> <span class="token operator">||</span> <span class="token function keyword">cats</span><span class="token punctuation">(</span>labelx<span class="token punctuation">,</span><span class="token string">&#39;;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token comment">/*    put labelx;*/</span>
    <span class="token keyword">output</span><span class="token punctuation">;</span>
    labelx<span class="token operator">=</span><span class="token string">&quot;  column pg trtpn doslvl &amp;var.;&quot;</span> <span class="token punctuation">;</span>
<span class="token comment">/*    put labelx;*/</span>
    <span class="token keyword">output</span><span class="token punctuation">;</span>
    <span class="token keyword">keep</span> labelx<span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span><span class="token operator">=</span><span class="token function keyword">scan</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;var.&quot;</span><span class="token punctuation">,</span><span class="token macro-variable">&amp;i</span><span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labelx<span class="token operator">=</span><span class="token string">&quot;    define &quot;</span>  <span class="token operator">||</span> <span class="token function keyword">strip</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot; / display style=[just=l  cellwidth= 5%];&quot;</span><span class="token punctuation">;</span>
<span class="token comment">/*    put labelx;*/</span>
    <span class="token keyword">output</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token comment">/*%end;*/</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token punctuation">%</span>label_update_en<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_200字符截断-英文1" tabindex="-1"><a class="header-anchor" href="#_200字符截断-英文1" aria-hidden="true">#</a> 200字符截断 - 英文1</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token macro-declaration"><span class="token keyword">%macro</span> len200(var=,outvar=,num=,len=5000)</span><span class="token punctuation">;</span>
    <span class="token keyword">array</span> _<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">$</span><span class="token number">200</span> <span class="token macro-variable">&amp;outvar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">array</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token function keyword">x</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">$</span><span class="token macro-variable">&amp;len</span><span class="token punctuation">.</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span>x1<span class="token operator">-</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span>x<span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">to</span> <span class="token function keyword">dim</span><span class="token punctuation">(</span>_<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">then</span> len<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">else</span> len<span class="token operator">=</span><span class="token function keyword">length</span><span class="token punctuation">(</span><span class="token function keyword">strip</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token function keyword">x</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span>len<span class="token operator">+</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot; &quot;</span> <span class="token keyword">or</span> <span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span>len<span class="token operator">+</span><span class="token number">201</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">&quot; &quot;</span> <span class="token keyword">then</span> _<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function keyword">cats</span><span class="token punctuation">(</span><span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span>len<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> _<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function keyword">cats</span><span class="token punctuation">(</span><span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span>len<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token operator">-</span><span class="token function keyword">find</span><span class="token punctuation">(</span><span class="token function keyword">reverse</span><span class="token punctuation">(</span><span class="token function keyword">substr</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">,</span>len<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> i<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">then</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token function keyword">x</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function keyword">cats</span><span class="token punctuation">(</span>_<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token function keyword">x</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">=</span><span class="token function keyword">catx</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span><span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token function keyword">x</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>_<span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span><span class="token punctuation">;</span>
    <span class="token keyword">length</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span>_ <span class="token punctuation">$</span><span class="token macro-variable">&amp;len</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span>_<span class="token operator">=</span><span class="token function keyword">catx</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">,</span>of <span class="token macro-variable">&amp;outvar</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span> <span class="token operator-keyword operator">ne</span> <span class="token macro-variable">&amp;var</span><span class="token punctuation">.</span>_ <span class="token keyword">then</span> <span class="token keyword">put</span> <span class="token string">&#39;ERR&#39;</span> <span class="token string">&#39;OR: split is not correct.&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>
<span class="token comment">/*%len200(var=saedesc,outvar=aesnar1-aesnar10,num=10,len=5000);*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="qc侧supp域宏代码" tabindex="-1"><a class="header-anchor" href="#qc侧supp域宏代码" aria-hidden="true">#</a> QC侧SUPP域宏代码</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token operator">/</span><span class="token operator">*</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
Study                : 
Program <span class="token keyword">Name</span>         : q_mattrib_parse_ADaM<span class="token punctuation">.</span>sas
Purpose              : Imports the study ADAM specs <span class="token keyword">and</span> copies variable names<span class="token punctuation">,</span>length<span class="token punctuation">,</span>formats <span class="token keyword">and</span> Labels into SAS 
Author               : Qiaojuan Lv
Date                 : <span class="token number">08</span><span class="token operator">/</span>FEB<span class="token operator">/</span><span class="token number">2023</span>
Macros Called        : <span class="token punctuation">%</span>q_mattrib_ADaM<span class="token punctuation">.</span>sas
Program Version      : <span class="token number">1.0</span> 
SAS Version          : EG8<span class="token punctuation">.</span><span class="token number">2</span>

Input <span class="token step keyword">Data</span>           : <span class="token macro-variable">&amp;root</span><span class="token punctuation">.</span><span class="token operator">/</span>Documentation<span class="token operator">/</span>Specifications<span class="token operator">/</span>ADaM<span class="token operator">/</span>ADaM<span class="token operator">-</span>Spec<span class="token operator">-</span>Metadata<span class="token punctuation">.</span>xlsx
<span class="token keyword">Output</span> <span class="token step keyword">Data</span>          : calling q_mattrib_ADaM<span class="token punctuation">.</span>sas
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">*</span><span class="token operator">/</span>
<span class="token comment">/*%inc &quot;autoexec.sas&quot;;*/</span>
<span class="token comment">/*option fmtsearch=(work library);*/</span>
<span class="token macro-declaration"><span class="token keyword">%macro</span> q_supp(domain=, cleanup = yes)</span><span class="token punctuation">;</span>
<span class="token comment">/*%let domain=SV;*/</span>
<span class="token comment">/*set macro parameter;*/</span>
<span class="token macro-keyword keyword">%let</span> lib<span class="token operator">=</span>sdtm<span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> domain<span class="token operator">=</span><span class="token macro-keyword keyword">%upcase</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> outds<span class="token operator">=</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;domain</span> <span class="token operator">=</span> DM <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%let</span> idvar<span class="token operator">=</span><span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%else</span> <span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;domain</span> <span class="token operator">=</span> SV <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%let</span> idvar<span class="token operator">=</span><span class="token macro-string-functions"><span class="token function keyword">%str</span><span class="token punctuation">(</span>VISITNUM<span class="token punctuation">)</span></span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%else</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%let</span> idvar<span class="token operator">=</span><span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span>SEQ<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>


<span class="token macro-keyword keyword">%if</span> <span class="token macro-keyword keyword">%sysfunc</span><span class="token punctuation">(</span><span class="token function keyword">exist</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;lib</span><span class="token punctuation">.</span><span class="token punctuation">.</span>SUPP<span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>

<span class="token comment">/*get supp dataset*/</span>
<span class="token step keyword">proc sort</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token macro-variable">&amp;lib</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span> <span class="token arg keyword">out</span><span class="token operator">=</span><span class="token arg-value">sdtm</span>_<span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span><span class="token punctuation">;</span></span> <span class="token keyword">by</span> usubjid idvar idvarval qnam<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token step keyword">proc transpose</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token arg-value">sdtm</span>_<span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span> <span class="token arg keyword">out</span><span class="token operator">=</span>_<span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token arg keyword">drop</span><span class="token operator">=</span>_:<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
    <span class="token keyword">by</span> usubjid idvar idvarval<span class="token punctuation">;</span>
    id qnam<span class="token punctuation">;</span>
    idlabel qlabel<span class="token punctuation">;</span>
    <span class="token keyword">var</span> qval<span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token comment">/*merge ds and suppds*/</span>
<span class="token step keyword">proc sql</span> <span class="token proc-args"><span class="token arg keyword">noprint</span><span class="token punctuation">;</span></span><span class="token proc-sql">
<span class="token sql language-sql">    create table &amp;domain. as select a.*,b.* from &amp;lib..&amp;domain. as a
    left join _supp&amp;domain.(rename=usubjid=_usubjid) as b on a.usubjid=b._usubjid 
    %if %upcase(&amp;domain.) ne DM %then %do;</span> and cats<span class="token punctuation">(</span>&amp;idvar<span class="token punctuation">.</span><span class="token punctuation">)</span>=b<span class="token punctuation">.</span>idvarval order by a<span class="token punctuation">.</span>usubjid<span class="token punctuation">,</span>&amp;idvar<span class="token punctuation">.</span><span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token punctuation">%</span>end<span class="token punctuation">;</span>
    <span class="token punctuation">%</span>else <span class="token punctuation">%</span>do<span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">%</span>end<span class="token punctuation">;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token comment">/*import from suppvar from sdtm spec;*/</span>
<span class="token step keyword">proc import</span> <span class="token proc-args"><span class="token arg keyword">datafile</span><span class="token operator">=</span><span class="token string">&quot;&amp;root./Documentation/Specifications/SDTM/SDTM-Spec-Metadata.xlsx&quot;</span> 
    <span class="token arg keyword">out</span><span class="token operator">=</span><span class="token function keyword">suppvar</span><span class="token punctuation">(</span><span class="token arg keyword">where</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token arg keyword">domain</span><span class="token operator">=</span><span class="token function keyword">compress</span><span class="token punctuation">(</span><span class="token function keyword">upcase</span><span class="token punctuation">(</span><span class="token string">&quot;supp&amp;domain.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token arg keyword">dbms</span><span class="token operator">=</span><span class="token arg-value">xlsx</span> <span class="token arg keyword">replace</span><span class="token punctuation">;</span></span>
   sheet<span class="token operator">=</span><span class="token string">&quot;SUPPDS&quot;</span><span class="token punctuation">;</span>
   getnames<span class="token operator">=</span>yes<span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token comment">/*get all suppvar*/</span>
<span class="token step keyword">proc sql</span> <span class="token proc-args"><span class="token arg keyword">noprint</span><span class="token punctuation">;</span></span><span class="token proc-sql">
<span class="token sql language-sql">    select qnam into:suppvar separated by &#39; &#39; from suppvar;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%put</span> <span class="token macro-variable">&amp;suppvar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>

<span class="token comment">/*get empty supp dataset*/</span>
<span class="token step keyword">data</span> supp<span class="token punctuation">;</span> <span class="token keyword">length</span> <span class="token macro-variable">&amp;suppvar</span><span class="token punctuation">.</span> <span class="token punctuation">$</span><span class="token number">200</span><span class="token punctuation">;</span> <span class="token keyword">call</span> <span class="token function keyword">missing</span><span class="token punctuation">(</span>of _all_<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token comment">/*get ds dataset with all suppvar*/</span>
<span class="token step keyword">data</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token keyword">set</span> <span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span> supp<span class="token punctuation">;</span> <span class="token keyword">drop</span> _usubjid idvar idvarval<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;cleanup</span><span class="token punctuation">.</span> <span class="token operator">=</span> yes <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
<span class="token step keyword">proc delete</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token arg-value">sdtm</span>_<span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span> _<span class="token arg keyword">supp</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span> <span class="token arg keyword">supp</span> <span class="token arg keyword">suppvar</span><span class="token punctuation">;</span></span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%else</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token keyword">set</span> <span class="token macro-variable">&amp;lib</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token macro-variable">&amp;domain</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>

<span class="token comment">/*%q_supp(domain=ae, cleanup=yes);*/</span>
<span class="token comment">/*%q_supp(domain=dm, cleanup=yes);*/</span>
<span class="token comment">/*%q_supp(domain=sv, cleanup=yes);*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重置变量最大观测长度" tabindex="-1"><a class="header-anchor" href="#重置变量最大观测长度" aria-hidden="true">#</a> 重置变量最大观测长度</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token comment">**zhi xu -2020-11-11;</span>

<span class="token macro-declaration"><span class="token keyword">%macro</span> reSetMaxObsLen(inds=,outds=)</span><span class="token punctuation">;</span>
<span class="token step keyword">proc contents</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span> <span class="token arg keyword">out</span><span class="token operator">=</span><span class="token function keyword">_temp</span><span class="token punctuation">(</span><span class="token arg keyword">where</span><span class="token operator">=</span><span class="token punctuation">(</span>^<span class="token function keyword">index</span><span class="token punctuation">(</span><span class="token arg keyword">name</span><span class="token punctuation">,</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token step keyword">proc sql</span><span class="token punctuation">;</span><span class="token proc-sql">
<span class="token sql language-sql">	select 
		cat(&quot;max(length(strip(&quot;,strip(name), &quot;))) as &quot;,strip(name),&quot;_len&quot;)
			into:getMaxLen separated by &quot;,&quot;
	from _temp where type=2;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token comment">**get Max Length for each variable;</span>
<span class="token step keyword">proc sql</span><span class="token punctuation">;</span><span class="token proc-sql">
<span class="token sql language-sql">	create table maxLenMap1 as 
		select 
			distinct &amp;getMaxLen.
		from &amp;inds.;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token step keyword">proc transpose</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span><span class="token arg-value">maxLenMap</span><span class="token number">1</span> <span class="token arg keyword">out</span><span class="token operator">=</span><span class="token arg-value">maxLenMap</span><span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="token keyword">var</span> _all_<span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>	

<span class="token comment">**get each delformat variable max length;</span>
<span class="token step keyword">proc sql</span><span class="token punctuation">;</span><span class="token proc-sql">
<span class="token sql language-sql">	create table maxLenMap as 
		select 
			scan(_name_,1,&quot;_&quot;) as Var,
			cats(calculated Var,&quot;_CHAR&quot;) as tempVar,
			coalesce(col1,1) as Varlen
	from maxLenMap2;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token step keyword">proc sql</span> <span class="token proc-args"><span class="token arg keyword">noprint</span><span class="token punctuation">;</span></span><span class="token proc-sql">
<span class="token sql language-sql">	select 
		cat(strip(tempVar),&quot; $&quot;,Varlen),
		cats(strip(tempVar),&quot;=&quot;,strip(Var)),
		cats(strip(Var),&quot;=&quot;,strip(tempVar)),
		strip(Var),
		strip(tempVar)
			into:setNewVarLen separated by &quot; &quot;,
				:getNewVar separated by &quot;;&quot;,
				:rollbackVar separated by &quot;;&quot;,
				:dropVar separated by &quot; &quot;,
				:dropTempVar separated by &quot; &quot;
	from maxLenMap;</span>
</span><span class="token step keyword">quit</span><span class="token punctuation">;</span>


<span class="token comment">**set max length for DELFORMAT variable;</span>
<span class="token step keyword">data</span> _tempds<span class="token punctuation">;</span>
	<span class="token keyword">length</span> <span class="token macro-variable">&amp;setNewVarLen</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
	<span class="token keyword">set</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
	<span class="token macro-variable">&amp;getNewVar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
	<span class="token keyword">drop</span> <span class="token macro-variable">&amp;dropVar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
	<span class="token keyword">set</span> _tempds<span class="token punctuation">;</span>
	<span class="token macro-variable">&amp;rollbackVar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
	<span class="token keyword">drop</span> <span class="token macro-variable">&amp;dropTempVar</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token punctuation">%</span>mend<span class="token punctuation">;</span>

<span class="token comment">/*%reSetMaxObsLen(inds=adtte1,outds=adtte2);*/</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="转xpt时设置数据集为最大观测长度" tabindex="-1"><a class="header-anchor" href="#转xpt时设置数据集为最大观测长度" aria-hidden="true">#</a> 转xpt时设置数据集为最大观测长度</h2><div class="language-sas line-numbers-mode" data-ext="sas"><pre class="language-sas"><code><span class="token keyword">libname</span> sdtm <span class="token string">&quot;&amp;root.\Data\SDTM&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">libname</span> sdtmn <span class="token string">&quot;&amp;root.\Data\SDTM\sdtm_length&quot;</span><span class="token punctuation">;</span>

<span class="token macro-declaration"><span class="token keyword">%macro</span> trimds(p_libsrc=sdtm, p_libdst=sdtmn)</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> <span class="token keyword">_null_</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> sashelp<span class="token punctuation">.</span>vtable<span class="token punctuation">;</span>
    <span class="token keyword">where</span> <span class="token keyword">libname</span><span class="token operator">=</span><span class="token function keyword">upcase</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;p_libsrc.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">,</span>_n_<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token function keyword">cats</span><span class="token punctuation">(</span><span class="token string">&#39;dsx&#39;</span><span class="token punctuation">,</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function keyword">lowcase</span><span class="token punctuation">(</span>memname<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%do</span> x<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> p_ds<span class="token operator">=</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;dsx</span><span class="token macro-variable">&amp;x</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> outfile<span class="token operator">=</span><span class="token macro-variable">&amp;dir_</span><span class="token punctuation">\</span>sdtm<span class="token punctuation">\</span>sdtm_length<span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> inds<span class="token operator">=</span><span class="token macro-variable">&amp;p_libsrc</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token macro-variable">&amp;p_ds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span> outds<span class="token operator">=</span><span class="token macro-variable">&amp;p_libdst</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token macro-variable">&amp;p_ds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token step keyword">proc delete</span> <span class="token proc-args"><span class="token arg keyword">data</span> <span class="token operator">=</span> <span class="token arg-value">work.</span>_<span class="token arg keyword">all</span>_<span class="token punctuation">;</span></span> <span class="token step keyword">run</span><span class="token punctuation">;</span> <span class="token step keyword">quit</span><span class="token punctuation">;</span>

<span class="token keyword">options</span><span class="token options-args"> <span class="token arg keyword">nosource</span> <span class="token arg keyword">nonotes</span> <span class="token arg keyword">nomprint</span> <span class="token arg keyword">nomlogic</span></span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%local</span> lib ds i j k _i _j _k i_ j_ k_<span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%let</span> inds <span class="token operator">=</span> <span class="token macro-keyword keyword">%upcase</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span>  lib <span class="token operator">=</span> <span class="token macro-keyword keyword">%scan</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%let</span>   ds <span class="token operator">=</span> <span class="token macro-keyword keyword">%scan</span><span class="token punctuation">(</span><span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;ds</span> <span class="token operator">=</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
   <span class="token macro-keyword keyword">%let</span>  lib <span class="token operator">=</span> WORK<span class="token punctuation">;</span>
   <span class="token macro-keyword keyword">%let</span>   ds <span class="token operator">=</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
   <span class="token macro-keyword keyword">%let</span> inds <span class="token operator">=</span> WORK<span class="token punctuation">.</span><span class="token macro-variable">&amp;ds</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>

<span class="token step keyword">proc contents</span> <span class="token proc-args"><span class="token arg keyword">data</span> <span class="token operator">=</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span> <span class="token arg keyword">out</span> <span class="token operator">=</span> <span class="token function keyword">var_info</span><span class="token punctuation">(</span><span class="token arg keyword">keep</span><span class="token operator">=</span><span class="token arg-value">memlabel</span> <span class="token arg keyword">name</span> <span class="token arg keyword">type</span> <span class="token arg keyword">label</span> <span class="token arg keyword">format</span> <span class="token arg keyword">nobs</span> <span class="token arg keyword">where</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token arg keyword">type</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token arg keyword">noprint</span><span class="token punctuation">;</span></span> <span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> <span class="token keyword">_null_</span><span class="token punctuation">;</span>
   <span class="token keyword">set</span> var_info <span class="token keyword">end</span><span class="token operator">=</span>eof<span class="token punctuation">;</span>
   <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;var&#39;</span><span class="token operator">||</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;lab&#39;</span><span class="token operator">||</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;fmt&#39;</span><span class="token operator">||</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token string">&#39;memlabel&#39;</span><span class="token punctuation">,</span>memlabel<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">call</span> <span class="token function keyword">symputx</span><span class="token punctuation">(</span><span class="token string">&#39;nobs&#39;</span><span class="token punctuation">,</span><span class="token function keyword">cats</span><span class="token punctuation">(</span>nobs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> eof <span class="token keyword">then</span> <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;num&#39;</span><span class="token punctuation">,</span><span class="token function keyword">compress</span><span class="token punctuation">(</span>_N_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%put</span> <span class="token macro-variable">&amp;nobs</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token step keyword">proc contents</span> <span class="token proc-args"><span class="token arg keyword">data</span> <span class="token operator">=</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span> <span class="token arg keyword">out</span> <span class="token operator">=</span> <span class="token function keyword">var_all</span><span class="token punctuation">(</span><span class="token arg keyword">keep</span><span class="token operator">=</span><span class="token arg-value">name</span> <span class="token arg keyword">varnum</span><span class="token punctuation">)</span> <span class="token arg keyword">noprint</span><span class="token punctuation">;</span></span> <span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token step keyword">proc sort</span><span class="token punctuation">;</span> <span class="token keyword">by</span> varnum<span class="token punctuation">;</span> <span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> <span class="token keyword">_null_</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> var_all <span class="token keyword">end</span><span class="token operator">=</span>eof<span class="token punctuation">;</span>
    <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;vars&#39;</span><span class="token operator">||</span><span class="token function keyword">strip</span><span class="token punctuation">(</span>_n_<span class="token punctuation">)</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> eof <span class="token keyword">then</span> <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;nums&#39;</span><span class="token punctuation">,</span><span class="token function keyword">compress</span><span class="token punctuation">(</span>_N_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%if</span> <span class="token macro-variable">&amp;nobs</span><span class="token punctuation">.</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> <span class="token function keyword">_tmp</span><span class="token punctuation">(</span>rename <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token macro-keyword keyword">%do</span> k_<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;k_</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;k_</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  attrib  
     <span class="token macro-keyword keyword">%do</span> _i <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> 
       <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 
          <span class="token keyword">length</span> <span class="token operator">=</span> <span class="token punctuation">$</span><span class="token number">1</span> 
          lable <span class="token operator">=</span> <span class="token string">&quot;&amp;&amp;lab&amp;_i&quot;</span>
          <span class="token macro-keyword keyword">%if</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">)</span> <span class="token operator-keyword operator">ne</span> <span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span>  <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">)</span> <span class="token operator-keyword operator">ne</span> <span class="token macro-string-functions"><span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">$</span><span class="token punctuation">)</span></span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
            format <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
          <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
     <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%do</span> _k <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
      <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_k</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_k</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token keyword">drop</span> <span class="token macro-keyword keyword">%do</span> j_<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j_</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">&quot;&amp;memlabel.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">retain</span> <span class="token macro-keyword keyword">%do</span> _j <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;nums</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;vars</span><span class="token macro-variable">&amp;_j</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> _tmp<span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token comment">/*proc delete data=var_all var_info _tmp;run;*/</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>

<span class="token macro-keyword keyword">%else</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> transfer<span class="token punctuation">;</span>
  <span class="token keyword">retain</span> <span class="token macro-keyword keyword">%do</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> max_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;i</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span> <span class="token keyword">end</span> <span class="token operator">=</span> eof<span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%do</span> j <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
        len_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span> <span class="token operator">=</span> <span class="token function keyword">length</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> max_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span> <span class="token operator">&lt;=</span> len_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span> <span class="token keyword">then</span> max_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span> <span class="token operator">=</span> len_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> eof <span class="token keyword">then do</span><span class="token punctuation">;</span>
       <span class="token macro-keyword keyword">%do</span> i_ <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
          <span class="token keyword">call</span> <span class="token function keyword">symput</span><span class="token punctuation">(</span><span class="token string">&#39;len&#39;</span><span class="token operator">||</span><span class="token function keyword">strip</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;i_.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> max_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;i_</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>       
       <span class="token keyword">output</span><span class="token punctuation">;</span>
    <span class="token keyword">end</span><span class="token punctuation">;</span>
    <span class="token keyword">keep</span> <span class="token macro-keyword keyword">%do</span> k <span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> max_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;k</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>

<span class="token step keyword">data</span> <span class="token function keyword">_tmp</span><span class="token punctuation">(</span>rename <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token macro-keyword keyword">%do</span> k_<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;k_</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;k_</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  attrib  
     <span class="token macro-keyword keyword">%do</span> _i <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> 
       <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 
          <span class="token keyword">length</span> <span class="token operator">=</span> <span class="token punctuation">$</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;len</span><span class="token macro-variable">&amp;_i</span> 
          lable <span class="token operator">=</span> <span class="token string">&quot;&amp;&amp;lab&amp;_i&quot;</span>
          <span class="token macro-keyword keyword">%if</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">)</span> <span class="token operator-keyword operator">ne</span> <span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">and</span>  <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">)</span> <span class="token operator-keyword operator">ne</span> <span class="token macro-string-functions"><span class="token function keyword">%str</span><span class="token punctuation">(</span><span class="token punctuation">$</span><span class="token punctuation">)</span></span> <span class="token macro-keyword keyword">%then</span> <span class="token macro-keyword keyword">%do</span><span class="token punctuation">;</span>
            format <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;fmt</span><span class="token macro-variable">&amp;_i</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
          <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
     <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> <span class="token macro-variable">&amp;inds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%do</span> _k <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
      <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span>_<span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_k</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;_k</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
    <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
    <span class="token keyword">drop</span> <span class="token macro-keyword keyword">%do</span> j_<span class="token operator">=</span><span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;num</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;var</span><span class="token macro-variable">&amp;j_</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token step keyword">data</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">&quot;&amp;memlabel.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">retain</span> <span class="token macro-keyword keyword">%do</span> _j <span class="token operator">=</span> <span class="token number">1</span> <span class="token macro-keyword keyword">%to</span> <span class="token macro-variable">&amp;nums</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token function keyword">%cmpres</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token macro-variable">&amp;vars</span><span class="token macro-variable">&amp;_j</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> _tmp<span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>


<span class="token step keyword">proc delete</span> <span class="token proc-args"><span class="token arg keyword">data</span><span class="token operator">=</span> <span class="token arg-value">transfer</span> <span class="token arg keyword">var</span>_<span class="token arg keyword">all</span> <span class="token arg keyword">var</span>_<span class="token arg keyword">info</span> _<span class="token arg keyword">tmp</span><span class="token punctuation">;</span></span><span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token keyword">libname</span> xportout  xport   <span class="token string">&quot;&amp;root.\Data\SDTM\sdtm_length\&amp;ds..xpt&quot;</span> <span class="token punctuation">;</span>
<span class="token step keyword">data</span> xportout<span class="token punctuation">.</span><span class="token macro-variable">&amp;ds</span><span class="token punctuation">.</span><span class="token punctuation">(</span>label<span class="token operator">=</span><span class="token string">&quot;&amp;memlabel.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">set</span> <span class="token macro-variable">&amp;outds</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token step keyword">run</span><span class="token punctuation">;</span>
<span class="token keyword">options</span><span class="token options-args"> <span class="token arg keyword">source</span> <span class="token arg keyword">notes</span> <span class="token arg keyword">mprint</span> <span class="token arg keyword">mlogic</span></span><span class="token punctuation">;</span>
<span class="token macro-keyword keyword">%end</span><span class="token punctuation">;</span>
<span class="token macro-end"><span class="token keyword">%mend</span> trimds</span><span class="token punctuation">;</span>


<span class="token function keyword">%trimds</span><span class="token punctuation">(</span>p_libsrc<span class="token operator">=</span>sdtm<span class="token punctuation">,</span> p_libdst<span class="token operator">=</span>sdtmn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-c680e870.js" defer></script>
  </body>
</html>
